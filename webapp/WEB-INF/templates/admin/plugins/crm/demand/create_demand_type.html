<#macro comboOrder max_order current_order>
	<select name="order">
		<#list 1..max_order as order>
			<#if order = current_order>
				<option value="${order}" selected="selected">${order}</option>
			<#else>
				<option value="${order}">${order}</option>
			</#if>
		</#list> 
	</select>
</#macro>

<div class="row-fluid">
	<div class="span12">
		<fieldset>
			<legend class="clearfix">#i18n{crm.create_demand_type.pageTitle}</legend>
		    <form class="form-horizontal" method="post" name="create_demand_type" id="create_demand_type" action="jsp/admin/plugins/crm/DoCreateDemandType.jsp">
		        <div class="control-group">
		            <label class="control-label" for="demand_type_label" >#i18n{crm.create_demand_type.labelLabel} * :</label>
		            <div class="controls">
		            	<input type="text" id="demand_type_label" name="demand_type_label" size="60" maxlength="255" value="" />
		            </div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="url_resource" >#i18n{crm.create_demand_type.labelUrlResource} * :</label>
		            <div class="controls">
		            	<input type="text" id="url_resource" name="url_resource" size="60" maxlength="255" value="" />
		            </div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="url_info" >#i18n{crm.create_demand_type.labelUrlInfo} :</label>
		            <div class="controls">
		            	<input type="text" id="url_info" name="url_info" size="60" maxlength="255" value="" />
		            </div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="url_contact" >#i18n{crm.create_demand_type.labelUrlContact} :</label>
		            <div class="controls">
		            	<input type="text" id="url_contact" name="url_contact" size="60" maxlength="255" value="" />
		            </div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="order" >#i18n{crm.modify_demand_type.labelOrder} :</label>
		            <div class="controls">
		            	<@comboOrder max_order=max_order current_order=1 />
		            </div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="category_id_category" >#i18n{crm.create_demand_type.labelCategory} :</label>
		            <div class="controls">
		            	<@combo name="category_id_category" items=categories_list default_value="0" />
		            </div>
		        </div>
		        <div class="control-group">
					<label class="control-label" for="workgroup_key">#i18n{crm.create_demand_type.labelWorkgroup} : </label>
					<div class="controls">
						<@combo name="workgroup_key" items=user_workgroup_list default_value="all" />
					</div>
					<br/>
					<label class="control-label">&nbsp;</label>
					<div class="controls">
						#i18n{crm.create_demand_type.labelWorkgroupComment}
					</div>
			   	</div>
			   	<#if role_list??>
				   	<div class="control-group">
				    	<label class="control-label" for="role_key">#i18n{crm.create_demand_type.labelRole} : </label>
			        	<div class="controls">
			        		<@combo name="role_key" default_value="none" items=role_list />
			        	</div>
						<br/>
					  	<label class="control-label">&nbsp;</label>
						<div class="controls">
							#i18n{crm.create_demand_type.labelRoleComment}
						</div>
					</div>
				</#if>
		        <div class="control-group">
		        	<label class="control-label" for="date_begin" >#i18n{crm.create_demand_type.labelDateBegin} :</label>
		            <div class="controls">
		            	<div class="input-prepend">
			            	<span class="add-on"><i class="icon-calendar"></i></span>
			            	<input type="text" id="date_begin" name="date_begin" size="10" maxlength="255" value="" />
		            	</div>
		        	</div>
		        </div>
		        <div class="control-group">
		        	<label class="control-label" for="date_end" >#i18n{crm.create_demand_type.labelDateEnd} :</label>
		            <div class="controls">
		            	<div class="input-prepend">
			            	<span class="add-on"><i class="icon-calendar"></i></span>
			            	<input type="text" id="date_end" name="date_end" size="10" maxlength="255" value="" />
			            </div>
		        	</div>
		        </div>
		        <div class="control-group">
		        	<label class="control-label" for="target">#i18n{crm.create_demand_type.labelTarget} :</label>
		        	<div class="controls">
		        		<@combo name="target" items=targets_list default_value=0 />
		        	</div>
		        	<br />
		        	<label class="control-label">&nbsp;</label>
		        	<div class="controls">
		        		#i18n{crm.create_demand_type.labelTargetComment}
		        	</div>
		        </div>
		        <div class="control-group">
		            <label class="control-label" for="url_delete" >#i18n{crm.create_demand_type.labelUrlDelete} :</label>
		            <div class="controls">
		            	<input type="text" id="url_delete" name="url_delete" size="60" maxlength="255" value="" />
		            </div>
		            <br />
		        	<label class="control-label">&nbsp;</label>
		        	<div class="controls">
		        		#i18n{crm.create_demand_type.labelUrlDeleteComment}
		        	</div>
		        </div>
		        <div class="form-actions">
		            <button type="submit" value="#i18n{crm.create_demand_type.buttonCreate}" class="btn btn-primary btn-small" tabindex="3" >
		            	#i18n{crm.create_demand_type.buttonCreate}
		            </button>
		        </div>
		    </form>
	    </fieldset>
    </div>
</div>
<br /><br />

<script src="js/jquery/plugins/ui/jquery-ui-1.8.16.custom.min.js"></script>
<script src="js/jquery/plugins/ui/ui.datepicker-fr.js"></script>
<@getDatePicker idField="date_begin" language=locale.language />
<@getDatePicker idField="date_end" language=locale.language />
